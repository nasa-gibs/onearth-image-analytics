{"id":"GllS","dependencies":[{"name":"/Users/jaaustin/node_modules/ol/Image.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/jaaustin/Documents/ml-gibs/package.json","includedInParent":true,"mtime":1559664405074},{"name":"/Users/jaaustin/node_modules/ol/package.json","includedInParent":true,"mtime":1559664113128},{"name":"./ImageBase.js","loc":{"line":4,"column":22},"parent":"/Users/jaaustin/node_modules/ol/Image.js","resolved":"/Users/jaaustin/node_modules/ol/ImageBase.js"},{"name":"./ImageState.js","loc":{"line":5,"column":23},"parent":"/Users/jaaustin/node_modules/ol/Image.js","resolved":"/Users/jaaustin/node_modules/ol/ImageState.js"},{"name":"./events.js","loc":{"line":6,"column":40},"parent":"/Users/jaaustin/node_modules/ol/Image.js","resolved":"/Users/jaaustin/node_modules/ol/events.js"},{"name":"./events/EventType.js","loc":{"line":7,"column":22},"parent":"/Users/jaaustin/node_modules/ol/Image.js","resolved":"/Users/jaaustin/node_modules/ol/events/EventType.js"},{"name":"./extent.js","loc":{"line":8,"column":24},"parent":"/Users/jaaustin/node_modules/ol/Image.js","resolved":"/Users/jaaustin/node_modules/ol/extent.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=n(require(\"./ImageBase.js\")),t=n(require(\"./ImageState.js\")),i=require(\"./events.js\"),s=n(require(\"./events/EventType.js\")),a=require(\"./extent.js\");function n(e){return e&&e.__esModule?e:{default:e}}var o=function(e){function n(i,s,a,n,o,r){e.call(this,i,s,a,t.default.IDLE),this.src_=n,this.image_=new Image,null!==o&&(this.image_.crossOrigin=o),this.imageListenerKeys_=null,this.state=t.default.IDLE,this.imageLoadFunction_=r}return e&&(n.__proto__=e),n.prototype=Object.create(e&&e.prototype),n.prototype.constructor=n,n.prototype.getImage=function(){return this.image_},n.prototype.handleImageError_=function(){this.state=t.default.ERROR,this.unlistenImage_(),this.changed()},n.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=(0,a.getHeight)(this.extent)/this.image_.height),this.state=t.default.LOADED,this.unlistenImage_(),this.changed()},n.prototype.load=function(){this.state!=t.default.IDLE&&this.state!=t.default.ERROR||(this.state=t.default.LOADING,this.changed(),this.imageListenerKeys_=[(0,i.listenOnce)(this.image_,s.default.ERROR,this.handleImageError_,this),(0,i.listenOnce)(this.image_,s.default.LOAD,this.handleImageLoad_,this)],this.imageLoadFunction_(this,this.src_))},n.prototype.setImage=function(e){this.image_=e},n.prototype.unlistenImage_=function(){this.imageListenerKeys_.forEach(i.unlistenByKey),this.imageListenerKeys_=null},n}(e.default),r=o;exports.default=r;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":0}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":13}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":20}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":35}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":43}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":56}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":57}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":64}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":68}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":76}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":89}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":95}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":99}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":107}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":126}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":128}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":130}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":138}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":158}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":160}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":6,"column":0},"generated":{"line":1,"column":168}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":183}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":185}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":187}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":195}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":221}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":223}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":8,"column":0},"generated":{"line":1,"column":231}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":246}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":255}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":257}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":260}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":267}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":270}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":272}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":283}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":285}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":286}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":294}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":0},"generated":{"line":1,"column":297}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":6},"generated":{"line":1,"column":301}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":303}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":312}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":315}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":2},"generated":{"line":1,"column":324}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":14},"generated":{"line":1,"column":326}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":22},"generated":{"line":1,"column":328}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":34},"generated":{"line":1,"column":330}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":46},"generated":{"line":1,"column":332}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":51},"generated":{"line":1,"column":334}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":40,"column":64},"generated":{"line":1,"column":336}},{"source":"../../src/ol/Image.js","name":"super","original":{"line":42,"column":4},"generated":{"line":1,"column":339}},{"source":"../../src/ol/Image.js","name":"super","original":{"line":42,"column":4},"generated":{"line":1,"column":341}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":9},"generated":{"line":1,"column":346}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":351}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":18},"generated":{"line":1,"column":353}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":30},"generated":{"line":1,"column":355}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":42},"generated":{"line":1,"column":357}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":53},"generated":{"line":1,"column":359}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":42,"column":53},"generated":{"line":1,"column":367}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":373}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":48,"column":9},"generated":{"line":1,"column":378}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":48,"column":16},"generated":{"line":1,"column":383}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":385}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":54,"column":9},"generated":{"line":1,"column":390}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":54,"column":18},"generated":{"line":1,"column":397}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":54,"column":22},"generated":{"line":1,"column":401}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":55,"column":24},"generated":{"line":1,"column":407}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":55,"column":8},"generated":{"line":1,"column":414}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":418}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":56,"column":11},"generated":{"line":1,"column":423}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":56,"column":18},"generated":{"line":1,"column":430}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":56,"column":32},"generated":{"line":1,"column":442}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":445}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":450}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":63,"column":30},"generated":{"line":1,"column":469}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":474}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":479}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":69,"column":17},"generated":{"line":1,"column":485}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":69,"column":28},"generated":{"line":1,"column":487}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":69,"column":28},"generated":{"line":1,"column":495}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":500}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":505}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":75,"column":30},"generated":{"line":1,"column":524}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":526}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":533}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":537}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":539}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":549}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":552}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":554}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":564}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":571}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":578}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":581}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":583}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":594}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":596}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":606}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":618}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":620}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":622}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":632}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":83,"column":2},"generated":{"line":1,"column":641}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":652}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":84,"column":11},"generated":{"line":1,"column":659}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":84,"column":16},"generated":{"line":1,"column":664}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":672}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":674}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":684}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":92,"column":2},"generated":{"line":1,"column":702}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":713}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":93,"column":9},"generated":{"line":1,"column":718}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":93,"column":17},"generated":{"line":1,"column":724}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":93,"column":28},"generated":{"line":1,"column":726}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":93,"column":28},"generated":{"line":1,"column":734}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":94,"column":9},"generated":{"line":1,"column":740}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":94,"column":9},"generated":{"line":1,"column":745}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":95,"column":9},"generated":{"line":1,"column":762}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":95,"column":9},"generated":{"line":1,"column":767}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":778}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":780}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":790}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":103,"column":2},"generated":{"line":1,"column":807}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":104,"column":28},"generated":{"line":1,"column":823}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":104,"column":8},"generated":{"line":1,"column":827}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":104,"column":13},"generated":{"line":1,"column":832}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":845}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":11},"generated":{"line":1,"column":850}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":24},"generated":{"line":1,"column":862}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":34},"generated":{"line":1,"column":864}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":34},"generated":{"line":1,"column":866}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":34},"generated":{"line":1,"column":877}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":39},"generated":{"line":1,"column":882}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":49},"generated":{"line":1,"column":890}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":54},"generated":{"line":1,"column":895}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":105,"column":61},"generated":{"line":1,"column":902}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":107,"column":9},"generated":{"line":1,"column":910}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":107,"column":9},"generated":{"line":1,"column":915}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":107,"column":17},"generated":{"line":1,"column":921}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":107,"column":28},"generated":{"line":1,"column":923}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":107,"column":28},"generated":{"line":1,"column":931}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":108,"column":9},"generated":{"line":1,"column":938}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":108,"column":9},"generated":{"line":1,"column":943}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":109,"column":9},"generated":{"line":1,"column":960}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":109,"column":9},"generated":{"line":1,"column":965}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":119,"column":2},"generated":{"line":1,"column":976}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":119,"column":2},"generated":{"line":1,"column":978}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":119,"column":2},"generated":{"line":1,"column":988}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":119,"column":2},"generated":{"line":1,"column":993}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":8},"generated":{"line":1,"column":1004}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":13},"generated":{"line":1,"column":1009}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":22},"generated":{"line":1,"column":1016}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":33},"generated":{"line":1,"column":1018}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":33},"generated":{"line":1,"column":1026}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":41},"generated":{"line":1,"column":1032}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":46},"generated":{"line":1,"column":1037}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":55},"generated":{"line":1,"column":1044}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":66},"generated":{"line":1,"column":1046}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":120,"column":66},"generated":{"line":1,"column":1054}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":121,"column":11},"generated":{"line":1,"column":1062}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":121,"column":11},"generated":{"line":1,"column":1067}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":121,"column":19},"generated":{"line":1,"column":1073}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":121,"column":30},"generated":{"line":1,"column":1075}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":121,"column":30},"generated":{"line":1,"column":1083}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":1091}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":122,"column":11},"generated":{"line":1,"column":1096}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":123,"column":11},"generated":{"line":1,"column":1106}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":123,"column":11},"generated":{"line":1,"column":1111}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":123,"column":32},"generated":{"line":1,"column":1130}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":8},"generated":{"line":1,"column":1132}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":1134}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":1136}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":19},"generated":{"line":1,"column":1148}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":24},"generated":{"line":1,"column":1153}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":32},"generated":{"line":1,"column":1160}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":42},"generated":{"line":1,"column":1162}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":124,"column":42},"generated":{"line":1,"column":1170}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":125,"column":10},"generated":{"line":1,"column":1176}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":125,"column":15},"generated":{"line":1,"column":1181}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":125,"column":34},"generated":{"line":1,"column":1199}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":8},"generated":{"line":1,"column":1206}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":19},"generated":{"line":1,"column":1208}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":19},"generated":{"line":1,"column":1210}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":19},"generated":{"line":1,"column":1222}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":24},"generated":{"line":1,"column":1227}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":32},"generated":{"line":1,"column":1234}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":42},"generated":{"line":1,"column":1236}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":126,"column":42},"generated":{"line":1,"column":1244}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":127,"column":10},"generated":{"line":1,"column":1249}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":127,"column":15},"generated":{"line":1,"column":1254}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":127,"column":33},"generated":{"line":1,"column":1271}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":129,"column":11},"generated":{"line":1,"column":1278}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":129,"column":11},"generated":{"line":1,"column":1283}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":129,"column":30},"generated":{"line":1,"column":1302}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":129,"column":36},"generated":{"line":1,"column":1307}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":129,"column":41},"generated":{"line":1,"column":1312}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":136,"column":2},"generated":{"line":1,"column":1320}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":136,"column":2},"generated":{"line":1,"column":1322}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":136,"column":2},"generated":{"line":1,"column":1332}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":136,"column":2},"generated":{"line":1,"column":1341}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":136,"column":11},"generated":{"line":1,"column":1350}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":137,"column":9},"generated":{"line":1,"column":1353}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":137,"column":9},"generated":{"line":1,"column":1358}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":137,"column":18},"generated":{"line":1,"column":1365}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1368}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1370}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1380}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":145,"column":2},"generated":{"line":1,"column":1395}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":146,"column":9},"generated":{"line":1,"column":1406}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":146,"column":9},"generated":{"line":1,"column":1411}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":146,"column":28},"generated":{"line":1,"column":1430}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":146,"column":36},"generated":{"line":1,"column":1438}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":146,"column":4},"generated":{"line":1,"column":1440}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":147,"column":9},"generated":{"line":1,"column":1455}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":147,"column":9},"generated":{"line":1,"column":1460}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":147,"column":30},"generated":{"line":1,"column":1479}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":1485}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":1487}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":27},"generated":{"line":1,"column":1488}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":30,"column":36},"generated":{"line":1,"column":1490}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":1499}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":1501}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":1503}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":1511}},{"source":"../../src/ol/Image.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":1519}}],"sources":{"../../src/ol/Image.js":"/**\n * @module ol/Image\n */\nimport ImageBase from './ImageBase.js';\nimport ImageState from './ImageState.js';\nimport {listenOnce, unlistenByKey} from './events.js';\nimport EventType from './events/EventType.js';\nimport {getHeight} from './extent.js';\n\n\n/**\n * A function that takes an {@link module:ol/Image~Image} for the image and a\n * `{string}` for the src as arguments. It is supposed to make it so the\n * underlying image {@link module:ol/Image~Image#getImage} is assigned the\n * content specified by the src. If not specified, the default is\n *\n *     function(image, src) {\n *       image.getImage().src = src;\n *     }\n *\n * Providing a custom `imageLoadFunction` can be useful to load images with\n * post requests or - in general - through XHR requests, where the src of the\n * image element would be set to a data URI when the content is loaded.\n *\n * @typedef {function(ImageWrapper, string)} LoadFunction\n * @api\n */\n\n\nclass ImageWrapper extends ImageBase {\n\n  /**\n   * @param {import(\"./extent.js\").Extent} extent Extent.\n   * @param {number|undefined} resolution Resolution.\n   * @param {number} pixelRatio Pixel ratio.\n   * @param {string} src Image source URI.\n   * @param {?string} crossOrigin Cross origin.\n   * @param {LoadFunction} imageLoadFunction Image load function.\n   */\n  constructor(extent, resolution, pixelRatio, src, crossOrigin, imageLoadFunction) {\n\n    super(extent, resolution, pixelRatio, ImageState.IDLE);\n\n    /**\n     * @private\n     * @type {string}\n     */\n    this.src_ = src;\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement}\n     */\n    this.image_ = new Image();\n    if (crossOrigin !== null) {\n      this.image_.crossOrigin = crossOrigin;\n    }\n\n    /**\n     * @private\n     * @type {Array<import(\"./events.js\").EventsKey>}\n     */\n    this.imageListenerKeys_ = null;\n\n    /**\n     * @protected\n     * @type {ImageState}\n     */\n    this.state = ImageState.IDLE;\n\n    /**\n     * @private\n     * @type {LoadFunction}\n     */\n    this.imageLoadFunction_ = imageLoadFunction;\n\n  }\n\n  /**\n   * @inheritDoc\n   * @api\n   */\n  getImage() {\n    return this.image_;\n  }\n\n  /**\n   * Tracks loading or read errors.\n   *\n   * @private\n   */\n  handleImageError_() {\n    this.state = ImageState.ERROR;\n    this.unlistenImage_();\n    this.changed();\n  }\n\n  /**\n   * Tracks successful image load.\n   *\n   * @private\n   */\n  handleImageLoad_() {\n    if (this.resolution === undefined) {\n      this.resolution = getHeight(this.extent) / this.image_.height;\n    }\n    this.state = ImageState.LOADED;\n    this.unlistenImage_();\n    this.changed();\n  }\n\n  /**\n   * Load the image or retry if loading previously failed.\n   * Loading is taken care of by the tile queue, and calling this method is\n   * only needed for preloading or for reloading in case of an error.\n   * @override\n   * @api\n   */\n  load() {\n    if (this.state == ImageState.IDLE || this.state == ImageState.ERROR) {\n      this.state = ImageState.LOADING;\n      this.changed();\n      this.imageListenerKeys_ = [\n        listenOnce(this.image_, EventType.ERROR,\n          this.handleImageError_, this),\n        listenOnce(this.image_, EventType.LOAD,\n          this.handleImageLoad_, this)\n      ];\n      this.imageLoadFunction_(this, this.src_);\n    }\n  }\n\n  /**\n   * @param {HTMLCanvasElement|HTMLImageElement|HTMLVideoElement} image Image.\n   */\n  setImage(image) {\n    this.image_ = image;\n  }\n\n  /**\n   * Discards event handlers which listen for load completion or errors.\n   *\n   * @private\n   */\n  unlistenImage_() {\n    this.imageListenerKeys_.forEach(unlistenByKey);\n    this.imageListenerKeys_ = null;\n  }\n}\n\n\nexport default ImageWrapper;\n"},"lineCount":null}},"error":null,"hash":"e37aeb96b68fd2ef128c9cffe6113ce9","cacheData":{"env":{}}}