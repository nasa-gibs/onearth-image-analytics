{"id":"c/nD","dependencies":[{"name":"/Users/jaaustin/node_modules/ol/style/Atlas.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/jaaustin/Documents/ml-gibs/package.json","includedInParent":true,"mtime":1559664405074},{"name":"/Users/jaaustin/node_modules/ol/package.json","includedInParent":true,"mtime":1559664113128},{"name":"../dom.js","loc":{"line":4,"column":36},"parent":"/Users/jaaustin/node_modules/ol/style/Atlas.js","resolved":"/Users/jaaustin/node_modules/ol/dom.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var t=require(\"../dom.js\"),e=function(e,i){this.space_=i,this.emptyBlocks_=[{x:0,y:0,width:e,height:e}],this.entries_={},this.context_=(0,t.createCanvasContext2D)(e,e),this.canvas_=this.context_.canvas};e.prototype.get=function(t){return this.entries_[t]||null},e.prototype.add=function(t,e,i,h,s){for(var p=0,a=this.emptyBlocks_.length;p<a;++p){var o=this.emptyBlocks_[p];if(o.width>=e+this.space_&&o.height>=i+this.space_){var c={offsetX:o.x+this.space_,offsetY:o.y+this.space_,image:this.canvas_};return this.entries_[t]=c,h.call(s,this.context_,o.x+this.space_,o.y+this.space_),this.split_(p,o,e+this.space_,i+this.space_),c}}return null},e.prototype.split_=function(t,e,i,h){var s,p;e.width-i>e.height-h?(s={x:e.x+i,y:e.y,width:e.width-i,height:e.height},p={x:e.x,y:e.y+h,width:i,height:e.height-h},this.updateBlocks_(t,s,p)):(s={x:e.x+i,y:e.y,width:e.width-i,height:h},p={x:e.x,y:e.y+h,width:e.width,height:e.height-h},this.updateBlocks_(t,s,p))},e.prototype.updateBlocks_=function(t,e,i){var h=[t,1];e.width>0&&e.height>0&&h.push(e),i.width>0&&i.height>0&&h.push(i),this.emptyBlocks_.splice.apply(this.emptyBlocks_,h)};var i=e;exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":0}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":13}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":20}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":35}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":43}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":56}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":57}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":64}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":68}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":76}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":89}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":95}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":105}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":41,"column":6},"generated":{"line":1,"column":118}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":51,"column":2},"generated":{"line":1,"column":120}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":51,"column":14},"generated":{"line":1,"column":129}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":51,"column":20},"generated":{"line":1,"column":131}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":134}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":57,"column":9},"generated":{"line":1,"column":139}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":57,"column":18},"generated":{"line":1,"column":146}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":148}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":9},"generated":{"line":1,"column":153}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":24},"generated":{"line":1,"column":166}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":25},"generated":{"line":1,"column":167}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":26},"generated":{"line":1,"column":168}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":29},"generated":{"line":1,"column":170}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":32},"generated":{"line":1,"column":172}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":35},"generated":{"line":1,"column":174}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":38},"generated":{"line":1,"column":176}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":45},"generated":{"line":1,"column":182}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":51},"generated":{"line":1,"column":184}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":63,"column":59},"generated":{"line":1,"column":191}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":195}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":69,"column":9},"generated":{"line":1,"column":200}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":69,"column":20},"generated":{"line":1,"column":209}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":212}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":9},"generated":{"line":1,"column":217}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":20},"generated":{"line":1,"column":227}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":42},"generated":{"line":1,"column":229}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":42},"generated":{"line":1,"column":231}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":42},"generated":{"line":1,"column":254}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":75,"column":48},"generated":{"line":1,"column":256}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":259}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":81,"column":9},"generated":{"line":1,"column":264}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":81,"column":19},"generated":{"line":1,"column":272}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":81,"column":24},"generated":{"line":1,"column":277}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":81,"column":33},"generated":{"line":1,"column":286}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":88,"column":0},"generated":{"line":1,"column":294}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":88,"column":0},"generated":{"line":1,"column":296}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":306}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":88,"column":2},"generated":{"line":1,"column":310}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":88,"column":6},"generated":{"line":1,"column":319}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":322}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":89,"column":11},"generated":{"line":1,"column":329}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":89,"column":16},"generated":{"line":1,"column":334}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":89,"column":25},"generated":{"line":1,"column":343}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":89,"column":32},"generated":{"line":1,"column":347}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":0},"generated":{"line":1,"column":353}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":0},"generated":{"line":1,"column":355}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":365}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":2},"generated":{"line":1,"column":369}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":6},"generated":{"line":1,"column":378}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":10},"generated":{"line":1,"column":380}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":17},"generated":{"line":1,"column":382}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":25},"generated":{"line":1,"column":384}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":102,"column":41},"generated":{"line":1,"column":386}},{"source":"../../../src/ol/style/Atlas.js","name":"let","original":{"line":103,"column":9},"generated":{"line":1,"column":389}},{"source":"../../../src/ol/style/Atlas.js","name":"let","original":{"line":103,"column":9},"generated":{"line":1,"column":393}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":13},"generated":{"line":1,"column":397}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":17},"generated":{"line":1,"column":399}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":20},"generated":{"line":1,"column":401}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":25},"generated":{"line":1,"column":403}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":30},"generated":{"line":1,"column":408}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":43},"generated":{"line":1,"column":421}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":51},"generated":{"line":1,"column":428}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":55},"generated":{"line":1,"column":430}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":61},"generated":{"line":1,"column":434}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":103,"column":64},"generated":{"line":1,"column":436}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":104,"column":12},"generated":{"line":1,"column":437}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":104,"column":12},"generated":{"line":1,"column":441}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":104,"column":20},"generated":{"line":1,"column":443}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":104,"column":25},"generated":{"line":1,"column":448}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":104,"column":38},"generated":{"line":1,"column":461}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":105,"column":10},"generated":{"line":1,"column":464}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":105,"column":10},"generated":{"line":1,"column":467}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":105,"column":16},"generated":{"line":1,"column":469}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":105,"column":25},"generated":{"line":1,"column":476}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":105,"column":33},"generated":{"line":1,"column":478}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":105,"column":38},"generated":{"line":1,"column":483}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":106,"column":8},"generated":{"line":1,"column":491}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":106,"column":16},"generated":{"line":1,"column":493}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":106,"column":26},"generated":{"line":1,"column":501}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":106,"column":35},"generated":{"line":1,"column":503}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":106,"column":40},"generated":{"line":1,"column":508}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":106,"column":48},"generated":{"line":1,"column":515}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":108,"column":14},"generated":{"line":1,"column":516}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":108,"column":14},"generated":{"line":1,"column":520}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":108,"column":22},"generated":{"line":1,"column":522}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":109,"column":8},"generated":{"line":1,"column":523}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":109,"column":19},"generated":{"line":1,"column":531}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":109,"column":25},"generated":{"line":1,"column":533}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":109,"column":29},"generated":{"line":1,"column":535}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":109,"column":34},"generated":{"line":1,"column":540}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":110,"column":8},"generated":{"line":1,"column":547}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":110,"column":19},"generated":{"line":1,"column":555}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":110,"column":25},"generated":{"line":1,"column":557}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":110,"column":29},"generated":{"line":1,"column":559}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":110,"column":34},"generated":{"line":1,"column":564}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":111,"column":8},"generated":{"line":1,"column":571}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":111,"column":17},"generated":{"line":1,"column":577}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":111,"column":22},"generated":{"line":1,"column":582}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":591}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":113,"column":13},"generated":{"line":1,"column":598}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":113,"column":13},"generated":{"line":1,"column":603}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":113,"column":22},"generated":{"line":1,"column":612}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":113,"column":28},"generated":{"line":1,"column":615}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":116,"column":6},"generated":{"line":1,"column":617}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":116,"column":23},"generated":{"line":1,"column":619}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":116,"column":28},"generated":{"line":1,"column":624}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":116,"column":38},"generated":{"line":1,"column":626}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":116,"column":43},"generated":{"line":1,"column":631}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":8},"generated":{"line":1,"column":640}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":16},"generated":{"line":1,"column":642}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":20},"generated":{"line":1,"column":644}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":25},"generated":{"line":1,"column":649}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":33},"generated":{"line":1,"column":656}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":39},"generated":{"line":1,"column":658}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":43},"generated":{"line":1,"column":660}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":117,"column":48},"generated":{"line":1,"column":665}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":13},"generated":{"line":1,"column":673}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":13},"generated":{"line":1,"column":678}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":20},"generated":{"line":1,"column":685}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":23},"generated":{"line":1,"column":687}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":30},"generated":{"line":1,"column":689}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":38},"generated":{"line":1,"column":691}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":43},"generated":{"line":1,"column":696}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":51},"generated":{"line":1,"column":703}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":60},"generated":{"line":1,"column":705}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":120,"column":65},"generated":{"line":1,"column":710}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":122,"column":15},"generated":{"line":1,"column":718}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":127,"column":11},"generated":{"line":1,"column":721}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":127,"column":11},"generated":{"line":1,"column":728}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":0},"generated":{"line":1,"column":734}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":0},"generated":{"line":1,"column":736}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":746}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":2},"generated":{"line":1,"column":753}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":9},"generated":{"line":1,"column":762}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":16},"generated":{"line":1,"column":764}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":23},"generated":{"line":1,"column":766}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":137,"column":30},"generated":{"line":1,"column":768}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":138,"column":10},"generated":{"line":1,"column":771}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":142,"column":8},"generated":{"line":1,"column":775}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":144,"column":8},"generated":{"line":1,"column":777}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":138,"column":23},"generated":{"line":1,"column":779}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":138,"column":29},"generated":{"line":1,"column":781}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":138,"column":37},"generated":{"line":1,"column":787}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":139,"column":24},"generated":{"line":1,"column":789}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":139,"column":30},"generated":{"line":1,"column":791}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":139,"column":39},"generated":{"line":1,"column":798}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":149,"column":4},"generated":{"line":1,"column":801}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":149,"column":18},"generated":{"line":1,"column":803}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":150,"column":6},"generated":{"line":1,"column":804}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":150,"column":11},"generated":{"line":1,"column":806}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":150,"column":17},"generated":{"line":1,"column":808}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":150,"column":21},"generated":{"line":1,"column":810}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":151,"column":6},"generated":{"line":1,"column":812}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":151,"column":11},"generated":{"line":1,"column":814}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":151,"column":17},"generated":{"line":1,"column":816}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":152,"column":6},"generated":{"line":1,"column":818}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":152,"column":15},"generated":{"line":1,"column":824}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":152,"column":21},"generated":{"line":1,"column":826}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":152,"column":29},"generated":{"line":1,"column":832}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":153,"column":6},"generated":{"line":1,"column":834}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":153,"column":16},"generated":{"line":1,"column":841}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":153,"column":22},"generated":{"line":1,"column":843}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":157,"column":4},"generated":{"line":1,"column":851}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":157,"column":18},"generated":{"line":1,"column":853}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":158,"column":6},"generated":{"line":1,"column":854}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":158,"column":11},"generated":{"line":1,"column":856}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":158,"column":17},"generated":{"line":1,"column":858}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":159,"column":6},"generated":{"line":1,"column":860}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":159,"column":11},"generated":{"line":1,"column":862}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":159,"column":17},"generated":{"line":1,"column":864}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":159,"column":21},"generated":{"line":1,"column":866}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":160,"column":6},"generated":{"line":1,"column":868}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":160,"column":15},"generated":{"line":1,"column":874}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":161,"column":6},"generated":{"line":1,"column":876}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":161,"column":16},"generated":{"line":1,"column":883}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":161,"column":22},"generated":{"line":1,"column":885}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":161,"column":31},"generated":{"line":1,"column":892}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":163,"column":11},"generated":{"line":1,"column":895}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":163,"column":11},"generated":{"line":1,"column":900}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":163,"column":25},"generated":{"line":1,"column":914}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":163,"column":32},"generated":{"line":1,"column":916}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":163,"column":43},"generated":{"line":1,"column":918}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":167,"column":4},"generated":{"line":1,"column":923}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":167,"column":18},"generated":{"line":1,"column":925}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":168,"column":6},"generated":{"line":1,"column":926}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":168,"column":11},"generated":{"line":1,"column":928}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":168,"column":17},"generated":{"line":1,"column":930}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":168,"column":21},"generated":{"line":1,"column":932}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":169,"column":6},"generated":{"line":1,"column":934}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":169,"column":11},"generated":{"line":1,"column":936}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":169,"column":17},"generated":{"line":1,"column":938}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":170,"column":6},"generated":{"line":1,"column":940}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":170,"column":15},"generated":{"line":1,"column":946}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":170,"column":21},"generated":{"line":1,"column":948}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":170,"column":29},"generated":{"line":1,"column":954}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":171,"column":6},"generated":{"line":1,"column":956}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":171,"column":16},"generated":{"line":1,"column":963}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":175,"column":4},"generated":{"line":1,"column":966}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":175,"column":18},"generated":{"line":1,"column":968}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":176,"column":6},"generated":{"line":1,"column":969}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":176,"column":11},"generated":{"line":1,"column":971}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":176,"column":17},"generated":{"line":1,"column":973}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":177,"column":6},"generated":{"line":1,"column":975}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":177,"column":11},"generated":{"line":1,"column":977}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":177,"column":17},"generated":{"line":1,"column":979}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":177,"column":21},"generated":{"line":1,"column":981}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":178,"column":6},"generated":{"line":1,"column":983}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":178,"column":15},"generated":{"line":1,"column":989}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":178,"column":21},"generated":{"line":1,"column":991}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":179,"column":6},"generated":{"line":1,"column":997}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":179,"column":16},"generated":{"line":1,"column":1004}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":179,"column":22},"generated":{"line":1,"column":1006}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":179,"column":31},"generated":{"line":1,"column":1013}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":181,"column":11},"generated":{"line":1,"column":1016}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":181,"column":11},"generated":{"line":1,"column":1021}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":181,"column":25},"generated":{"line":1,"column":1035}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":181,"column":32},"generated":{"line":1,"column":1037}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":181,"column":43},"generated":{"line":1,"column":1039}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":0},"generated":{"line":1,"column":1044}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":0},"generated":{"line":1,"column":1046}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":2},"generated":{"line":1,"column":1056}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":2},"generated":{"line":1,"column":1070}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":16},"generated":{"line":1,"column":1079}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":23},"generated":{"line":1,"column":1081}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":194,"column":34},"generated":{"line":1,"column":1083}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":195,"column":10},"generated":{"line":1,"column":1086}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":195,"column":10},"generated":{"line":1,"column":1090}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":195,"column":43},"generated":{"line":1,"column":1092}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":195,"column":43},"generated":{"line":1,"column":1093}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":195,"column":50},"generated":{"line":1,"column":1095}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":196,"column":8},"generated":{"line":1,"column":1098}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":196,"column":18},"generated":{"line":1,"column":1100}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":196,"column":26},"generated":{"line":1,"column":1106}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":196,"column":31},"generated":{"line":1,"column":1109}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":196,"column":41},"generated":{"line":1,"column":1111}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":196,"column":50},"generated":{"line":1,"column":1118}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":197,"column":4},"generated":{"line":1,"column":1121}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":197,"column":11},"generated":{"line":1,"column":1123}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":197,"column":16},"generated":{"line":1,"column":1128}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":199,"column":8},"generated":{"line":1,"column":1131}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":199,"column":18},"generated":{"line":1,"column":1133}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":199,"column":26},"generated":{"line":1,"column":1139}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":199,"column":31},"generated":{"line":1,"column":1142}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":199,"column":41},"generated":{"line":1,"column":1144}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":199,"column":50},"generated":{"line":1,"column":1151}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":200,"column":4},"generated":{"line":1,"column":1154}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":200,"column":11},"generated":{"line":1,"column":1156}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":200,"column":16},"generated":{"line":1,"column":1161}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":9},"generated":{"line":1,"column":1164}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":9},"generated":{"line":1,"column":1169}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":22},"generated":{"line":1,"column":1182}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":29},"generated":{"line":1,"column":1189}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":35},"generated":{"line":1,"column":1195}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":40},"generated":{"line":1,"column":1200}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":202,"column":54},"generated":{"line":1,"column":1213}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":1217}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":1221}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":1223}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":1225}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":1233}},{"source":"../../../src/ol/style/Atlas.js","name":null,"original":{"line":206,"column":15},"generated":{"line":1,"column":1241}}],"sources":{"../../../src/ol/style/Atlas.js":"/**\n * @module ol/style/Atlas\n */\nimport {createCanvasContext2D} from '../dom.js';\n\n\n/**\n * @typedef {Object} AtlasBlock\n * @property {number} x\n * @property {number} y\n * @property {number} width\n * @property {number} height\n */\n\n/**\n * Provides information for an image inside an atlas.\n * `offsetX` and `offsetY` are the position of the image inside the atlas image `image`.\n * @typedef {Object} AtlasInfo\n * @property {number} offsetX\n * @property {number} offsetY\n * @property {HTMLCanvasElement} image\n */\n\n\n/**\n * @classesc\n * This class facilitates the creation of image atlases.\n *\n * Images added to an atlas will be rendered onto a single\n * atlas canvas. The distribution of images on the canvas is\n * managed with the bin packing algorithm described in:\n * http://www.blackpawn.com/texts/lightmaps/\n *\n * @param {number} size The size in pixels of the sprite image.\n * @param {number} space The space in pixels between images.\n *    Because texture coordinates are float values, the edges of\n *    images might not be completely correct (in a way that the\n *    edges overlap when being rendered). To avoid this we add a\n *    padding around each image.\n */\nclass Atlas {\n\n  /**\n   * @param {number} size The size in pixels of the sprite image.\n   * @param {number} space The space in pixels between images.\n   *    Because texture coordinates are float values, the edges of\n   *    images might not be completely correct (in a way that the\n   *    edges overlap when being rendered). To avoid this we add a\n   *    padding around each image.\n   */\n  constructor(size, space) {\n\n    /**\n     * @private\n     * @type {number}\n     */\n    this.space_ = space;\n\n    /**\n     * @private\n     * @type {Array<AtlasBlock>}\n     */\n    this.emptyBlocks_ = [{x: 0, y: 0, width: size, height: size}];\n\n    /**\n     * @private\n     * @type {Object<string, AtlasInfo>}\n     */\n    this.entries_ = {};\n\n    /**\n     * @private\n     * @type {CanvasRenderingContext2D}\n     */\n    this.context_ = createCanvasContext2D(size, size);\n\n    /**\n     * @private\n     * @type {HTMLCanvasElement}\n     */\n    this.canvas_ = this.context_.canvas;\n  }\n\n  /**\n   * @param {string} id The identifier of the entry to check.\n   * @return {?AtlasInfo} The atlas info.\n   */\n  get(id) {\n    return this.entries_[id] || null;\n  }\n\n  /**\n   * @param {string} id The identifier of the entry to add.\n   * @param {number} width The width.\n   * @param {number} height The height.\n   * @param {function(CanvasRenderingContext2D, number, number)} renderCallback\n   *    Called to render the new image onto an atlas image.\n   * @param {Object=} opt_this Value to use as `this` when executing\n   *    `renderCallback`.\n   * @return {?AtlasInfo} The position and atlas image for the entry.\n   */\n  add(id, width, height, renderCallback, opt_this) {\n    for (let i = 0, ii = this.emptyBlocks_.length; i < ii; ++i) {\n      const block = this.emptyBlocks_[i];\n      if (block.width >= width + this.space_ &&\n          block.height >= height + this.space_) {\n        // we found a block that is big enough for our entry\n        const entry = {\n          offsetX: block.x + this.space_,\n          offsetY: block.y + this.space_,\n          image: this.canvas_\n        };\n        this.entries_[id] = entry;\n\n        // render the image on the atlas image\n        renderCallback.call(opt_this, this.context_,\n          block.x + this.space_, block.y + this.space_);\n\n        // split the block after the insertion, either horizontally or vertically\n        this.split_(i, block, width + this.space_, height + this.space_);\n\n        return entry;\n      }\n    }\n\n    // there is no space for the new entry in this atlas\n    return null;\n  }\n\n  /**\n   * @private\n   * @param {number} index The index of the block.\n   * @param {AtlasBlock} block The block to split.\n   * @param {number} width The width of the entry to insert.\n   * @param {number} height The height of the entry to insert.\n   */\n  split_(index, block, width, height) {\n    const deltaWidth = block.width - width;\n    const deltaHeight = block.height - height;\n\n    /** @type {AtlasBlock} */\n    let newBlock1;\n    /** @type {AtlasBlock} */\n    let newBlock2;\n\n    if (deltaWidth > deltaHeight) {\n      // split vertically\n      // block right of the inserted entry\n      newBlock1 = {\n        x: block.x + width,\n        y: block.y,\n        width: block.width - width,\n        height: block.height\n      };\n\n      // block below the inserted entry\n      newBlock2 = {\n        x: block.x,\n        y: block.y + height,\n        width: width,\n        height: block.height - height\n      };\n      this.updateBlocks_(index, newBlock1, newBlock2);\n    } else {\n      // split horizontally\n      // block right of the inserted entry\n      newBlock1 = {\n        x: block.x + width,\n        y: block.y,\n        width: block.width - width,\n        height: height\n      };\n\n      // block below the inserted entry\n      newBlock2 = {\n        x: block.x,\n        y: block.y + height,\n        width: block.width,\n        height: block.height - height\n      };\n      this.updateBlocks_(index, newBlock1, newBlock2);\n    }\n  }\n\n  /**\n   * Remove the old block and insert new blocks at the same array position.\n   * The new blocks are inserted at the same position, so that splitted\n   * blocks (that are potentially smaller) are filled first.\n   * @private\n   * @param {number} index The index of the block to remove.\n   * @param {AtlasBlock} newBlock1 The 1st block to add.\n   * @param {AtlasBlock} newBlock2 The 2nd block to add.\n   */\n  updateBlocks_(index, newBlock1, newBlock2) {\n    const args = /** @type {Array<*>} */ ([index, 1]);\n    if (newBlock1.width > 0 && newBlock1.height > 0) {\n      args.push(newBlock1);\n    }\n    if (newBlock2.width > 0 && newBlock2.height > 0) {\n      args.push(newBlock2);\n    }\n    this.emptyBlocks_.splice.apply(this.emptyBlocks_, args);\n  }\n}\n\nexport default Atlas;\n"},"lineCount":null}},"error":null,"hash":"091af477b592dc7c1185c4428d84e259","cacheData":{"env":{}}}