{"id":"OsgA","dependencies":[{"name":"/Users/jaaustin/node_modules/ol/TileCache.js.map","includedInParent":true,"mtime":499162500000},{"name":"/Users/jaaustin/Documents/ml-server/wmts-server/package.json","includedInParent":true,"mtime":1560987598999},{"name":"/Users/jaaustin/node_modules/ol/package.json","includedInParent":true,"mtime":1559664113128},{"name":"./structs/LRUCache.js","loc":{"line":4,"column":21},"parent":"/Users/jaaustin/node_modules/ol/TileCache.js","resolved":"/Users/jaaustin/node_modules/ol/structs/LRUCache.js"},{"name":"./tilecoord.js","loc":{"line":5,"column":30},"parent":"/Users/jaaustin/node_modules/ol/TileCache.js","resolved":"/Users/jaaustin/node_modules/ol/tilecoord.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=void 0;var e=o(require(\"./structs/LRUCache.js\")),t=require(\"./tilecoord.js\");function o(e){return e&&e.__esModule?e:{default:e}}var r=function(e){function o(t){e.call(this,t)}return e&&(o.__proto__=e),o.prototype=Object.create(e&&e.prototype),o.prototype.constructor=o,o.prototype.expireCache=function(e){for(;this.canExpireCache();){var t=this.peekLast(),o=t.tileCoord[0].toString();if(o in e&&e[o].contains(t.tileCoord))break;this.pop().dispose()}},o.prototype.pruneExceptNewestZ=function(){if(0!==this.getCount()){var e=this.peekFirstKey(),o=(0,t.fromKey)(e)[0];this.forEach(function(e){e.tileCoord[0]!==o&&(this.remove((0,t.getKey)(e.tileCoord)),e.dispose())},this)}},o}(e.default),i=r;exports.default=i;"},"sourceMaps":{"js":{"mappings":[{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":0}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":13}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":20}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":35}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":43}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":56}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":57}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":64}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":68}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":76}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":89}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":91}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":95}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":97}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":99}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":4,"column":0},"generated":{"line":1,"column":107}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":133}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":135}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":5,"column":0},"generated":{"line":1,"column":143}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":161}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":170}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":172}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":175}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":182}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":185}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":187}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":198}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":200}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":201}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":209}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":0},"generated":{"line":1,"column":212}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":6},"generated":{"line":1,"column":216}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":32},"generated":{"line":1,"column":218}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":32},"generated":{"line":1,"column":227}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":230}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":12,"column":2},"generated":{"line":1,"column":239}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":12,"column":14},"generated":{"line":1,"column":241}},{"source":"../../src/ol/TileCache.js","name":"super","original":{"line":14,"column":4},"generated":{"line":1,"column":244}},{"source":"../../src/ol/TileCache.js","name":"super","original":{"line":14,"column":4},"generated":{"line":1,"column":246}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":14,"column":9},"generated":{"line":1,"column":251}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":14,"column":10},"generated":{"line":1,"column":256}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":259}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":266}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":270}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":272}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":282}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":285}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":287}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":297}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":304}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":311}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":314}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":316}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":327}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":329}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":339}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":351}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":353}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":355}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":365}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":21,"column":2},"generated":{"line":1,"column":377}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":21,"column":14},"generated":{"line":1,"column":386}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":389}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":22,"column":11},"generated":{"line":1,"column":394}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":22,"column":16},"generated":{"line":1,"column":399}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":22,"column":34},"generated":{"line":1,"column":417}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":418}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":23,"column":12},"generated":{"line":1,"column":422}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":23,"column":19},"generated":{"line":1,"column":424}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":23,"column":24},"generated":{"line":1,"column":429}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":24,"column":12},"generated":{"line":1,"column":440}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":24,"column":19},"generated":{"line":1,"column":442}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":24,"column":24},"generated":{"line":1,"column":444}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":24,"column":34},"generated":{"line":1,"column":454}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":24,"column":37},"generated":{"line":1,"column":457}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":468}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":10},"generated":{"line":1,"column":471}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":18},"generated":{"line":1,"column":476}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":31},"generated":{"line":1,"column":479}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":41},"generated":{"line":1,"column":481}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":47},"generated":{"line":1,"column":484}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":56},"generated":{"line":1,"column":493}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":25,"column":61},"generated":{"line":1,"column":495}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":26,"column":8},"generated":{"line":1,"column":506}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":512}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":28,"column":13},"generated":{"line":1,"column":517}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":28,"column":19},"generated":{"line":1,"column":523}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":535}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":537}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":547}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":36,"column":2},"generated":{"line":1,"column":566}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":577}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":37,"column":28},"generated":{"line":1,"column":580}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":584}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":37,"column":13},"generated":{"line":1,"column":589}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":37,"column":8},"generated":{"line":1,"column":600}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":40,"column":10},"generated":{"line":1,"column":601}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":40,"column":10},"generated":{"line":1,"column":605}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":40,"column":16},"generated":{"line":1,"column":607}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":40,"column":21},"generated":{"line":1,"column":612}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":42,"column":10},"generated":{"line":1,"column":627}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":41,"column":22},"generated":{"line":1,"column":630}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":41,"column":30},"generated":{"line":1,"column":632}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":41,"column":30},"generated":{"line":1,"column":634}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":41,"column":30},"generated":{"line":1,"column":643}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":42,"column":24},"generated":{"line":1,"column":646}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":649}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":43,"column":9},"generated":{"line":1,"column":654}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":43,"column":17},"generated":{"line":1,"column":662}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":43,"column":26},"generated":{"line":1,"column":671}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":44,"column":10},"generated":{"line":1,"column":674}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":44,"column":15},"generated":{"line":1,"column":676}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":44,"column":25},"generated":{"line":1,"column":686}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":44,"column":32},"generated":{"line":1,"column":691}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":695}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":13},"generated":{"line":1,"column":700}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":20},"generated":{"line":1,"column":708}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":710}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":712}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":27},"generated":{"line":1,"column":720}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":45,"column":32},"generated":{"line":1,"column":722}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":46,"column":8},"generated":{"line":1,"column":734}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":46,"column":13},"generated":{"line":1,"column":736}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":48,"column":7},"generated":{"line":1,"column":748}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":756}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":32},"generated":{"line":1,"column":758}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":24},"generated":{"line":1,"column":759}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":7,"column":32},"generated":{"line":1,"column":761}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":770}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":772}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":774}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":782}},{"source":"../../src/ol/TileCache.js","name":null,"original":{"line":53,"column":15},"generated":{"line":1,"column":790}}],"sources":{"../../src/ol/TileCache.js":"/**\n * @module ol/TileCache\n */\nimport LRUCache from './structs/LRUCache.js';\nimport {fromKey, getKey} from './tilecoord.js';\n\nclass TileCache extends LRUCache {\n\n  /**\n   * @param {number=} opt_highWaterMark High water mark.\n   */\n  constructor(opt_highWaterMark) {\n\n    super(opt_highWaterMark);\n\n  }\n\n  /**\n   * @param {!Object<string, import(\"./TileRange.js\").default>} usedTiles Used tiles.\n   */\n  expireCache(usedTiles) {\n    while (this.canExpireCache()) {\n      const tile = this.peekLast();\n      const zKey = tile.tileCoord[0].toString();\n      if (zKey in usedTiles && usedTiles[zKey].contains(tile.tileCoord)) {\n        break;\n      } else {\n        this.pop().dispose();\n      }\n    }\n  }\n\n  /**\n   * Prune all tiles from the cache that don't have the same z as the newest tile.\n   */\n  pruneExceptNewestZ() {\n    if (this.getCount() === 0) {\n      return;\n    }\n    const key = this.peekFirstKey();\n    const tileCoord = fromKey(key);\n    const z = tileCoord[0];\n    this.forEach(function(tile) {\n      if (tile.tileCoord[0] !== z) {\n        this.remove(getKey(tile.tileCoord));\n        tile.dispose();\n      }\n    }, this);\n  }\n}\n\n\nexport default TileCache;\n"},"lineCount":null}},"error":null,"hash":"38049af761c5498cd93d5de65573144d","cacheData":{"env":{}}}